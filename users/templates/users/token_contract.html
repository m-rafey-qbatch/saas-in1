{% extends "users/base_side_nav.html" %}

{% load static %}

{% block title %}Token Contract {% endblock title %}

{% block main_content %}


<div class="container mt-2">
    
    
    <div class="row bgc-container-background">

        <!-- Logo Column -->
        <div class="col-md-2">

            <div class="bgc-logo-wrapper">
                <img src="{% static 'users/images/sbev_logo.png' %}" class="img-fluid" alt="SBEV Logo">

            </div>
        </div>

        <div class="col-md-10">
            <div class="bgc-header-container">
                <h2 class="bgc-contract-nft-title">{{ contract_name }} (${{ contract_symbol }})</h2>
                <div class="bgc-goerli-container">
                    <span class="bgc-goerli-icon"><img src="https://gateway.ipfs.io/ipfs/bafybeigzgztdmt3qdt52wuhyrrvpqp5qt4t2uja23wmfhsccqt332ek7da/ethereum/512.png" alt="Goerli Symbol"></span>
                    <span class="bgc-goerli-text">Goerli</span>
                </div>
            </div>
            <div class="bgc-contract-description">
                <p>The Sylvester Broome Empowerment Village Leadership Token (SBVLT) is an exceptional cryptocurrency token conceived to recognize and reward the commendable academic pursuits of students engaged in the Sylvester Broome Empowerment Village's Financial Literacy initiative. Grounded in the principles of advocating for financial education and scholastic excellence, the SBVET operates as both a marker of achievement and a valuable asset for our budding scholars.</p>
                
                <p>Each SBVLT stands as evidence of a student's dedication, tenacity, and allegiance to their educational voyage. As students flourish within the Financial Literacy initiative, they are awarded SBVLT tokens, translating their insights into a precious digital currency. This token is more than just an accolade; it's an instructive instrument that ushers students into the realm of digital finance and the expanding horizon of cryptocurrencies.</p>

                



            </div>

            <div class="bgc-contract-data">
                <p>Total Supply: {{ total_supply }} {{ contract_symbol }}</p>
                <p>Decimals: {{ decimals }}</p>
            </div>
            
            <div class="bgc-links-container">
                <span class="bgc-contract-address" id="contractAddress" onclick="copyToClipboard()">0x452dd5D4F7e9df965589Df1904474F24Eb669E46</span>
                <a href="https://goerli.etherscan.io/address/0x452dd5D4F7e9df965589Df1904474F24Eb669E46" target="_blank" class="bgc-contract-link">Contract Etherscan</a>
                <a href="https://eth-goerli.blockscout.com/address/0x452dd5D4F7e9df965589Df1904474F24Eb669E46" target="_blank" class="bgc-contract-link">Contract Blockscout</a>
            </div>
        </div>
    </div>

    
    <div class="container mt-5">
        <h4 class="minted-nft-title">Transfer Events</h4>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>From</th>
                    <th>To</th>
                    <th>Amount</th>  <!-- Changed from Token ID to Amount -->
                </tr>
            </thead>
            <tbody>
                {% for transfer in transfers %}
                <tr>
                    <td>{{ transfer.from }}</td>
                    <td>{{ transfer.to }}</td>
                    <td>{{ transfer.value }}</td>  <!-- Changed from token_id to value -->
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

</div>

<script>

    function copyToClipboard() {
        const textArea = document.createElement('textarea');
        textArea.value = document.getElementById('contractAddress').innerText;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert('Contract address copied to clipboard!');
    }

</script>

{% endblock %}
